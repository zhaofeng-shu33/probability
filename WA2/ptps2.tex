\documentclass[a4paper, 12pt, answers]{exam}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{bm}
\usepackage{advdate}
\usepackage{datetime}
\usepackage[mathcal]{eucal}
\usepackage{dsfont}
\usepackage[numbered,framed]{matlab-prettifier}
\usepackage{tkz-euclide}
\usetkzobj{all}
\usepackage{url}
\usepackage{hyperref}
\usepackage{verbatim}
\hypersetup{
  colorlinks   = true, %Colours links instead of ugly boxes
  urlcolor     = blue, %Colour for external hyperlinks
  linkcolor    = blue, %Colour of internal links
  citecolor   = red %Colour of citations
}
\newcommand{\FF}{\mathcal{F}}
\newcommand{\rai}{\rightarrow \infty}
%\DeclareMathOperator*{\limsup}{lim\,sup}  
%\DeclareMathOperator*{\liminf}{lim\,inf}    
\allowdisplaybreaks
\newdate{issuedate}{6}{3}{2020}
\newdate{duedate}{20}{3}{2020}

% \newcommand{\duedate}[1][14]{%
% \begingroup
% \AdvanceDate[#1]%
% \today%
% \endgroup
% }%
\input{./lddef}

\makeatletter
\@ifclasswith{exam}{answers}{\newcommand{\firstblock}{comments}}{}
\makeatother

\begin{document}

\pagestyle{headandfoot}
\runningheadrule


\newcounter{psctr}
\setcounter{psctr}{2} % set to the times of problem

\runningheader{HW \thepsctr}
              {\textsc{Introduction to Probability Theory}}
              { Page \thepage\ of \numpages}
\firstpagefooter{}{}{}
\runningfooter{}{}{}


\newcounter{Sequ}
\newenvironment{Sequation}
   {\stepcounter{Sequ}%
     \addtocounter{equation}{-1}%
     \renewcommand\theequation{S\arabic{Sequ}}\equation}
   {\endequation}
%\topskip0pt

% \vspace*{\fill}
\centering

% \vspace{0.3em}
\centering
\renewcommand{\thequestion}{\arabic{psctr}.\arabic{question}}
\courseheader

\begin{center}
  \underline{\bf Written Assignment \thepsctr} \\
\end{center}
\begin{flushleft}
  \textbf{Issued:} \displaydate{issuedate} \hfill
  \textbf{Due:} \displaydate{duedate} 
\end{flushleft}

\hrule 

\ifdefined\firstblock
\input{\firstblock}
\fi

%\pointname{}
%\vspace{\footskip}
%\vspace{1em}

% \begin{flushleft}
%   Consider the problem of classifying $l$ samples $(\bx_i, y_i)$ using SVM, where $\bx_i \in \mathbb{R}^n$, $y_i \in \{-1, 1\}$, $(i = 1, \cdots, l)$.
% %{\bf Notations:} 
% \end{flushleft}


\begin{questions}
  
  \question
  Let $(\Omega, \FF, \Prob)$ be a probability space, and let $A_1, A_2, \dots$ be a sequence of $\FF$-measurable sets.
  \begin{parts}
  	\part Prove that $\Prob(\liminf_{n \rightarrow \infty}A_n) \le \liminf_{n \rightarrow \infty}\Prob(A_n)$. \emph{Hint:} Recall that $\liminf_{n}A_n=\cup_{k=1}^{\infty}\cap_{n=k}^{\infty}A_n$ is the set of outcomes that belong to all but finitely many $A_n$, and use various monotonicity and continuity properties of probabilities.
  	\part Can you come up with a probability model and a sequence of events for which the inequality in (a) is strict?
  	\part Taking for granted the symmetrical inequality
  	\begin{equation*}
  	\Prob(\limsup_{n \rai}A_n)\ge \limsup_{n \rai}\Prob(A_n)
  	\end{equation*}
  	show that if $\lim\limits_{n} A_n = A$, then $\lim\limits_{n \rai} \Prob(A_n)= \Prob(A)$. \emph{Hint:} Recall that $\lim\limits_{n} A_n = A$ means $A = \liminf_{n} A_n = \limsup_{n}A_n$. Of course, if the sequence of sets $A_n$ were monotonic, this result would be a special case of the continuity properties of probability measures proved in the Lecture 1 notes.
  \end{parts}
 \begin{solution}
 	\begin{parts}
 		\part With increasing sequence $\cap_{n=k}^{\infty}A_n$ and $\Prob(\cap_{n=k}^{\infty}A_n)\le\inf_{n\ge k}\Prob(A_n)$
 		\begin{equation*}
 		\Prob(\cup_{k=1}^{\infty}\cap_{n=k}^{\infty}A_n)=\lim\limits_{k\rai}\Prob(\cap_{n=k}^{\infty}A_n)\le\lim\limits_{k\rai}\inf_{n\ge k}\Prob(A_n)=\liminf_{n\rai}\Prob(A_n)
 		\end{equation*}
 		\part We should make a model that $\lim\limits_{k\rai}\Prob(\cap_{n=k}^{\infty}A_n)<\lim\limits_{k\rai}\inf_{n\ge k}\Prob(A_n)$. The most convenient way is to make $A_n=A_{n+2}\ne A_{n+1}$ for all $n$, so that $\Prob(\cap_{n=k}^{\infty}A_n)=0$.
 		Consider $\Omega=\left\{X,Y\right\}$ and $\Prob(X)=\Prob(Y)=\frac 12$, $\Prob(X\cap Y)=\Prob(\varnothing)=0$. $A_{2n}=X$ and $A_{2n-1}=Y$ for all $n \ge 1$
 		We can find that 
 		\begin{equation*}
 		0=\Prob(\liminf_{n \rightarrow \infty}A_n) \le \liminf_{n \rightarrow \infty}\Prob(A_n)=\frac 12
 		\end{equation*}
 		\part By the symmetrical inequality,
 		\begin{equation*}
 		\Prob(A)=\Prob(\liminf_{n\rai}A_n)\le \liminf_{n \rightarrow \infty}\Prob(A_n)\le\limsup_{n \rightarrow \infty}\Prob(A_n)\le\Prob(\limsup_{n\rai}A_n)=\Prob(A)
 		\end{equation*}
 		Then $\liminf_{n \rightarrow \infty}\Prob(A_n)=\limsup_{n \rightarrow \infty}\Prob(A_n)=\Prob(A)$. \\
 		We can derive $\lim\limits_{n \rai} \Prob(A_n)= \Prob(A)$. 
 	\end{parts}
 \end{solution}
\question We have defined the Borel sets in $I = (0, 1]$ to be the $\sigma$-field generated by the intervals of the form $\left(a,b\right]= \left\{x \in I | a < x \le b\right\}$.
\begin{parts}
	\part Show that an open interval $\left(a,b\right)= \left\{x \in I | a < x < b\right\}$ is a Borel set.
	\part A subset $S$ of $I$ is said to be \textbf{open} if for every $x \in S$, there exists an open interval $(a,b)$ which is contained in $S$ and which contains $x$. (Intuitively, for every $x \in S$, $S$ contains an “open neighborhood” of $x$.) Show that if $S$ is open and is contained in $I$, then $S$ is a Borel set.
	\part Show that the $\sigma$-field generated by the open sets is the same as the Borel $\sigma$-field.\\
	\emph{Hint:} Express $S$ as a union of intervals with rational endpoints.
\end{parts}
\begin{solution}
	\begin{parts}
		\part We can construct $(a,b)=\cup_{n=1}^{\infty}\left(a,b-\frac 1n\right]$, with $\left(a,b-\frac 1n\right]$ a Borel set.\\
		By the countable additivity, $(a,b)$ is a Borel set. 
		\part We have proved that $\mathbb{Q}$ is countable. Let $\{x_n\}$ be all the rational elements in $S$. For $x_n \in \mathbb{Q}\cap S (n\ge 1)$, there exists $a_n, b_n$ s.t. $x_n \in (a_n, b_n)$.
		We should prove that $S=\cup_{n=1}^{\infty}(a_n,b_n)$.
		We will find that the problem is the irrational elements. To prove it we need to use the property that the rationals are the \textbf{dense subset} of real numbers, which means if there exists a irrational number $c \notin S$, by definition $c \in (c_1, c_2)$, and there should be a rational number $d \in (c_1, c_2)$. It makes contradictory. 
		Therefore $S=\cup_{n=1}^{\infty}(a_n,b_n)$ is a Borel set.
		\part 
		Note Borel $\sigma$-field and the $\sigma$-field generated
		by the open sets as $\mathcal{B}$ and $\mathcal{O}$. By (a) and (b) it is easy to derive $\mathcal{O} \subseteq \mathcal{B}$.
		we also have $\left(a,b\right]=(a,1)\backslash(b,1)$ for all $\left(a,b\right]$. Then $\mathcal{B} \subseteq \mathcal{O}$, which indicate $\mathcal{B} = \mathcal{O}$
		
	\end{parts}
\end{solution}
\question
Suppose that the events $A_n$ satisfy $\Prob(A_n) \rightarrow 0$ and $\sum_{n=1}^{\infty} \Prob(A_n^c \cap A_{n+1}) < \infty$. Show that $\Prob(A_n \ \mathrm{i.o.})=0$. \emph{Note:} $A_n$ i.o., stands for “$A_n$ occurs infinitely often”, or “infinitely many of the $A_n$ occur”, or just $\limsup_n A_n$. \emph{Hint:} Borel-Cantelli.

\begin{solution}
	Define the set
	\begin{equation*}
	A=\limsup_{n\rai}A_n=\cap_{n=1}^{\infty}\cup_{m=n}^{\infty}A_m
	\end{equation*}
	We wish to show $\Prob(A)=0$. Now, $A\subseteq \cup_{m=n}^{\infty}A_m$ for all $m$, and by monotonicity of the measure, $\Prob(A)\le\Prob(\cup_{m=n}^{\infty} A_m)$, for all $n$. In addition,
	\begin{equation*}
	\begin{aligned}
	\cup_{m=n}^{\infty}A_m&=A_n\cup(A_{n+1}\backslash A_n)\cup(A_{n+2}\backslash A_{n+1})\cup\cdots\\
	&=A_n\cup(A_{n+1}\cap A_n^c)\cup(A_{n+2}\cap A_{n+1}^c)\cup\cdots
	\end{aligned}
	\end{equation*}
	Therefore, by the union bound,
	\begin{equation*}
	\Prob(A)\le\Prob(\cup_{m=n}^{\infty}A_m)\le\Prob(A_n)+\sum_{m=n}^{\infty}\Prob(A_{m+1}\cap A_n^c)
	\end{equation*}
	This holds for all $n$, and therefore it holds in the limit as $n$ goes to infinity. But the limit of the final expression is zero, since $\Prob(A_n)\rightarrow 0$, and since $\sum_{n=1}^{\infty}\Prob(A_n^c\cap A_{n+1})<\infty$
\end{solution}
\question Let $A_n$ be a sequence of independent events with $\Prob(A_n) < 1$ for all $n$, and $\Prob(\cup_n A_n)=1$. Show that $\Prob(A_n \ \mathrm{i.o.})=1$. Note: $A_n$ i.o., stands for “$A_n$ occurs infinitely often”, or “infinitely many of the $A_n$ occur”, or just $\limsup_n A_n$. \emph{Hint:} Borel-Cantelli.
\begin{solution}
	Define the set
	\begin{equation*}
	A=\limsup_{n\rai}A_n=\cap_{n=1}^{\infty}\cup_{m=n}^{\infty}A_m
	\end{equation*}
	We wish to show $\Prob(A)=1$. Since $\Prob(\cup_n A_n)=1$, it can be derived with independency that
	\begin{equation*}
	\Prob(\cap_nA_n^c)=\prod_{n}\Prob(A_n^c)=0
	\end{equation*}
	With continuity, for all l, $\prod_{n\ge l}\Prob(A_n^c)=\Prob(\cap_{n\ge l}A_n^c)=0$, and then $\Prob(\cup_{n\ge l}A_n)=1$
	Therefore, 
	\begin{equation*}
	\Prob(A)=\Prob(\cap_l\cup_{n\ge l}A_n)=1
	\end{equation*}
	Equivalently, we can use the Borel-Cantelli Lemma.
\end{solution}

\question Suppose that $A$, $B$, and $C$ are independent events. Use the definition of independence to show that $A$ and $B \cup C$ are independent.
\begin{solution}
	With independency
	\begin{equation*}
	\begin{aligned}
	\Prob(A\cap(B\cup C))&=\Prob((A\cap B)\cup(A\cap C))\\
	&=\Prob(A\cap B)+\Prob(A\cap C)-\Prob(A\cap B\cap C)\\
	&=\Prob(A)\Prob(B)+\Prob(A)\Prob(C)-\Prob(A)\Prob(B)\Prob(C)\\
	&=\Prob(A)\left(\Prob(B)+\Prob(C)-\Prob(B)\Prob(C)\right)\\
	&=\Prob(A)\Prob(B\cup C)
	\end{aligned}
	\end{equation*}
\end{solution}


\question Consider a probability space $(\Omega, \FF, \Prob)$, and let $A$ be an event (element of $\FF$). Let $\mathcal{G}$ be the set of all events that are independent from $A$. Show that $\mathcal{G}$ need not be a $\sigma$-field.
\begin{solution}
	$\mathcal{G}$ need not be a $\sigma$-algebra.
	For example, let $X, Y$ be i.i.d., with $\Prob(X=1)=\Prob(X=0)=\frac 12$. Let $Z$ be the mod two sum of $X$ and $Y$,
	so that if $X=Y$, then $Z=0$, and if $X\ne Y$, then $Z=1$. Then pairwise, these three random variables are independent. Let $A$ be the event $\{Z=1\}$. Now, the events $B_1={X =1}$, $B_2={Y=1}$ are both independent of $A$. However, $B_1 \cap B_2$ is not independent of $A$.

	Another solution: Consider $\Omega=[0,1], \mathcal{F}
	=\mathcal{B}$ and $\mathcal{P}$ is the Lebesgue measure.
	$A=[0,1/2]$, $B_1=[3/8,5/8],B_2=[1/4,1/2]\cup [3/4,1]$.
	We can verify that $B_1,B_2 \in \mathcal{G}$ but
	$B_1\cup B_2 \not\in \mathcal{G}$.
\end{solution}
\question Let $A$, $B$, $A_1$, $A_2$, $\dots$ be events. Suppose that for each $k$, we have $A_k \subseteq A_{k+1}$, and that $B$ is independent of $A_k$. Let $A = \cup_{k=1}^{\infty}A_k$. Show that $B$ is independent of $A$.
\begin{solution}
	The sequence of events $A_k \cap B$ is increasing and converges to the event $A \cap B$. [To see this, note that $(\cup_{k\ge1}A_k)\cap B =\cup_{k\ge 1} (A_k \cap B)$.] Using the continuity of probability measures in the first and last equalities below, and independence in the middle equality, we have
	\begin{equation*}
	\Prob(A \cap B)= \lim\limits_{k\rai} \Prob(A_k \cap B)= \lim\limits_{k\rai} \Prob(A_k)\Prob(B)=\Prob(A)\Prob(B)
	\end{equation*}
	\end{solution}
\end{questions}  


\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:

%  LocalWords:  headandfoot covariance
